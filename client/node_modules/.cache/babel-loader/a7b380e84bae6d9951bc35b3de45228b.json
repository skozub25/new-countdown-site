{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function QuestionOfTheDay(){const[question,setQuestion]=useState('');const[answers,setAnswers]=useState([]);const[newAnswer,setNewAnswer]=useState('');useEffect(()=>{axios.get('http://localhost:3001/api/question').then(response=>{setQuestion(response.data.question);}).catch(error=>{console.error('Error fetching the question of the day:',error);});const today=new Date().toLocaleDateString();const lastUpdate=localStorage.getItem('lastUpdate');if(today!==lastUpdate){localStorage.setItem('lastUpdate',today);localStorage.setItem('answers',JSON.stringify([]));}const storedAnswers=JSON.parse(localStorage.getItem('answers'))||[];setAnswers(storedAnswers);},[]);const handleSubmit=e=>{e.preventDefault();const updatedAnswers=[...answers,newAnswer];setAnswers(updatedAnswers);localStorage.setItem('answers',JSON.stringify(updatedAnswers));setNewAnswer('');};const handleDelete=index=>{const updatedAnswers=answers.filter((_,i)=>i!==index);setAnswers(updatedAnswers);localStorage.setItem('answers',JSON.stringify(updatedAnswers));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Question of the Day\"}),/*#__PURE__*/_jsx(\"p\",{children:question}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newAnswer,onChange:e=>setNewAnswer(e.target.value),placeholder:\"Your answer\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:answers.map((answer,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[answer,/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(index),className:\"delete-button\",children:\"x\"})]},index))})]});}export default QuestionOfTheDay;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","QuestionOfTheDay","question","setQuestion","answers","setAnswers","newAnswer","setNewAnswer","get","then","response","data","catch","error","console","today","Date","toLocaleDateString","lastUpdate","localStorage","getItem","setItem","JSON","stringify","storedAnswers","parse","handleSubmit","e","preventDefault","updatedAnswers","handleDelete","index","filter","_","i","children","onSubmit","type","value","onChange","target","placeholder","map","answer","onClick","className"],"sources":["/Users/sylviakozub/Documents/new-countdown-site/client/src/QuestionOfTheDay.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction QuestionOfTheDay() {\n    const [question, setQuestion] = useState('');\n    const [answers, setAnswers] = useState([]);\n    const [newAnswer, setNewAnswer] = useState('');\n\n    useEffect(() => {\n        axios.get('http://localhost:3001/api/question')\n            .then(response => {\n                setQuestion(response.data.question);\n            })\n            .catch(error => {\n                console.error('Error fetching the question of the day:', error);\n            });\n\n        const today = new Date().toLocaleDateString();\n        const lastUpdate = localStorage.getItem('lastUpdate');\n\n        if (today !== lastUpdate) {\n            localStorage.setItem('lastUpdate', today);\n            localStorage.setItem('answers', JSON.stringify([]));\n        }\n\n        const storedAnswers = JSON.parse(localStorage.getItem('answers')) || [];\n        setAnswers(storedAnswers);\n    }, []);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const updatedAnswers = [...answers, newAnswer];\n        setAnswers(updatedAnswers);\n        localStorage.setItem('answers', JSON.stringify(updatedAnswers));\n        setNewAnswer('');\n    };\n\n    const handleDelete = (index) => {\n        const updatedAnswers = answers.filter((_, i) => i !== index);\n        setAnswers(updatedAnswers);\n        localStorage.setItem('answers', JSON.stringify(updatedAnswers));\n    };\n\n    return (\n        <div>\n            <h1>Question of the Day</h1>\n            <p>{question}</p>\n            <form onSubmit={handleSubmit}>\n                <input\n                    type=\"text\"\n                    value={newAnswer}\n                    onChange={(e) => setNewAnswer(e.target.value)}\n                    placeholder=\"Your answer\"\n                />\n                <button type=\"submit\">Submit</button>\n            </form>\n            <ul>\n                {answers.map((answer, index) => (\n                    <li key={index}>\n                        {answer}\n                        <button onClick={() => handleDelete(index)} className=\"delete-button\">x</button>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n\nexport default QuestionOfTheDay;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}